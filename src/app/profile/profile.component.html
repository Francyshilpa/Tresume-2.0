<div class="header p-4">
  <div class="container-fluid">
    <div class="row main pt-3 pl-2">
      <h2>USER PROFILE</h2>
    </div>
    <div class="col mt-2 text-right">
      <button class="btn">Change Password</button> 
    </div>
    <div class="row pt-2">
      <div class="col-md-3">
        <div class="card card-outline text-center p-4">
          <div class="text-center">
          </div>
          <h2 class="card-title text-center pt-3 mb-0">{{profiledata[0].FirstName}} {{profiledata[0].LastName}}</h2>
          <p class="card-text text-center pt-1 JD">{{profiledata[0].Title}}</p>
        </div>
      </div>
      <div class="col-md-8">
        <mat-tab-group class="card card-outline">
          <form [formGroup]="ProfileUpdate">
            <mat-tab label="About me">
              <div class="row">
                <div class="col-md-4">
                  <label for="firstName">First Name</label><br>
                  <ng-container *ngIf="!editmode; else editModeTemplate9">
                    <span class="m-2">{{profiledata[0].FirstName}}</span>
                  </ng-container>
                  <ng-template #editModeTemplate9>
                    <input type="text" class="form-control custom-input" id="firstName" placeholder="First Name"
                      [(ngModel)]="firstName" name="firstName" required>
                  </ng-template>
                </div>
                <div class="col-md-4">
                  <label for="middleName">Middle Name</label><br>
                  <ng-container *ngIf="!editmode; else editModeTemplate1">
                    <span class="m-2">{{profiledata[0].MiddleName}}</span>
                  </ng-container>
                  <ng-template #editModeTemplate1>
                    <input type="text" class="form-control custom-input" id="middleName" placeholder="Last Name"
                      [(ngModel)]="middleName" name="middleName" required>
                  </ng-template>
                </div>
                <div class="col-md-4">
                  <label for="lastName">Last Name</label><br>
                  <ng-container *ngIf="!editmode; else editModeTemplate2">
                    <span class="m-2">{{profiledata[0].LastName}}</span>
                  </ng-container>
                  <ng-template #editModeTemplate2>
                    <input type="text" class="form-control custom-input" id="lastName" placeholder="Last Name"
                      [(ngModel)]="lastName" name="lastName" required>
                  </ng-template>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-md-4">
                  <label for="userName">User Name</label><br>
                  <ng-container *ngIf="!editmode; else editModeTemplate3">
                    <span class="m-2">{{profiledata[0].UserName}}</span>
                  </ng-container>
                  <ng-template #editModeTemplate3>
                    <input type="text" class="form-control custom-input" id="userName" placeholder="User Name"
                      [(ngModel)]="userName" name="userName" required>
                  </ng-template>
                </div>
                <div class="col-md-4">
                  <label for="yearsOfExperience">Years of Experience(In Months)</label><br>
                  <ng-container *ngIf="!editmode; else editModeTemplate4">
                    <span class="m-2">{{profiledata[0].YearsOfExpInMonths}}</span>
                  </ng-container>
                  <ng-template #editModeTemplate4>
                    <select class="form-control custom-input" id="yearsOfExperience" [(ngModel)]="yearsOfExperience"
                      name="yearsOfExperience" required>
                      <option value="" disabled selected>Select years of experience</option>
                      <option value="0">0 years</option>
                      <option value="1">1 year</option>
                      <option value="2">2 years</option>
                      <option value="3">3 years</option>
                      <option value="4">4 years</option>
                    </select>
                  </ng-template>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-md-4">
                  <label for="title">Title</label><br>
                  <ng-container *ngIf="!editmode;else editModeTemplate10">
                    <span class="m-2">{{profiledata[0].Title}}</span>
                  </ng-container>
                  <ng-template #editModeTemplate10>
                    <input type="text" class="form-control custom-input" id="title" placeholder="Title"
                      [(ngModel)]="title" name="title" required>
                    <div
                      *ngIf="myForm.controls.title.invalid && (myForm.controls.title.dirty || myForm.controls.title.touched)">
                      <small class="text-danger">Title is required</small>
                    </div>
                  </ng-template>
                </div>
                <div class="col-md-4">
                  <label for="dob">DOB</label><br>
                  <ng-container *ngIf="!editmode;else editModeTemplate7">
                    <span class="m-2">{{profiledata[0].DOB | date:'dd-MM-yyyy'}}</span></ng-container>
                  <ng-template #editModeTemplate7>
                    <input type="date" class="form-control custom-input" id="dob" [(ngModel)]="dob" name="dob" required>
                  </ng-template>
                </div>
                <div class="col-md-4">
                  <label for="phoneNumber">Phone</label><br>
                  <ng-container *ngIf="!editmode;else editModeTemplate8">
                    <span class="m-2">{{profiledata[0].PhoneNumber}}</span>
                  </ng-container>
                  <ng-template #editModeTemplate8>
                    <input type="text" class="form-control custom-input" id="phoneNumber" placeholder="Phone Number"
                      [(ngModel)]="phoneNumber" name="phoneNumber" pattern="[0-9]{10}" required>
                    <div *ngIf="myForm.controls.phoneNumber.invalid && 
                                    (myForm.controls.phoneNumber.dirty || myForm.controls.phoneNumber.touched)">
                      <small class="text-danger">Please enter a valid 10-digit phone number</small>
                    </div>
                  </ng-template>
                </div>
              </div>
              <div *ngIf="editmode; else" class="row mt-3">
                <div class="col text-right">
                  <button class="btn m-2" (click)="toggleEditMode1()">Cancel</button>
                  <button class="btn m-2">Save</button>
                </div>
              </div>
      </mat-tab>
      <!-- <mat-tab label="Password">
        <h3>Password</h3>
        <div class="form-row mt-4">
          <div class="form-group col">
            <label for="oldPassword">Old Password</label>
            <span *ngIf="!editmode">{{ oldPassword }}</span>
            <input *ngIf="editmode" type="password" class="form-control" id="oldPassword" placeholder="Old Password"
              [(ngModel)]="oldPassword">
          </div>
          <div class="form-group col">
            <label for="newPassword">New Password</label>
            <span *ngIf="!editmode">{{ newPassword }}</span>
            <input *ngIf="editmode" type="password" class="form-control" id="newPassword" placeholder="New Password"
              [(ngModel)]="newPassword">
          </div>
          <div class="form-group col">
            <label for="confirmPassword">Confirm Password</label>
            <span *ngIf="!editmode">{{ confirmPassword }}</span>
            <input *ngIf="editmode" type="password" class="form-control" id="confirmPassword"
              placeholder="Confirm Password" [(ngModel)]="confirmPassword">
          </div>
        </div>
        <div *ngIf="editmode; else" class="row mt-3">
          <div class="col text-right">
            <button class="btn m-2" (click)="toggleEditMode1()">Cancel</button>
            <button class="btn m-2">Save</button>
          </div>
        </div>
     </mat-tab> -->
    <mat-tab label="Company Information">
      <div class="form-row mt-4">
        <div class="form-group col-4">
          <label for="companyName">
            Organization
          </label><br>
          <span *ngIf="!editmode" class="m-2">{{profiledata[0].Organization}}</span>
          <input *ngIf="editmode" type="text" class="form-control custom-input" id="companyName"
            placeholder="Enter Company Name" [(ngModel)]="companyName" name="companyName" required>

        </div>

        <div class="form-group col-6">
          <label for="logo">Logo Type</label><br>
          <span *ngIf="!editmode" class="m-2">Image.png</span>
          <div *ngIf="editmode" class="logo">
          <div class="custom-file">
            <input type="file" class="custom-file-input" id="logo" (change)="onFileSelected($event)">
            <label class="custom-file-label" for="logo">Choose file</label>
          </div>
          <div class="mt-2">
            <img src="{{ logoImageUrl }}" alt="Selected Logo" *ngIf="logoImageUrl" width="50" height="50">
          </div>
        </div>
        </div>
      </div>

      <div class="form-row mt-2">
        <div class="form-group col-4">
          <label for="state">State</label>
          <span *ngIf="!editmode">{{profiledata[0].state}}</span>
          <select *ngIf="editmode" class="form-control custom-input" id="state" [(ngModel)]="selectedState">
            <option *ngFor="let stateObj of state" [value]="stateObj.state">{{stateObj.state}}</option>
          </select>
        </div>
        <div class="form-group col-4">
          <label for="city">City</label>
          <span *ngIf="!editmode">{{profiledata[0].city}}</span>
          <select *ngIf="editmode" class="form-control custom-input" id="city" [(ngModel)]="city">
            <option *ngFor="let cities of city" [value]="cities.id">{{cities.city}}</option>
          </select>
        </div>
        <div class="form-group col-4">
          <label for="zipcode">Zip Code</label>
          <span *ngIf="!editmode">{{profiledata[0].zipcode}}</span>
          <input *ngIf="editmode" type="text" class="form-control custom-input" id="zipcode"
            placeholder="Enter Zip Code" [(ngModel)]="zipcode">
        </div>
      </div>
  
  <!-- <div class="form-group mt-4">
    <p-editor [(ngModel)]="content" placeholder="textediter....." [style]="{'height':'320px', 'width':'100%'}"
      placeholder="Enter the email content to be sent......"></p-editor>
  </div> -->
  <div *ngIf="editmode; else" class="row mt-4">
    <div class="col text-right">
      <button class="btn m-2" (click)="toggleEditMode1()">Cancel</button>
      <button class="btn m-2" (click)="updateProfile()">Save</button>
    </div>
  </div>
 </mat-tab>
 
</form>
</mat-tab-group>
</div>

<div class="col-md-1">
  <i class='fas fa-pen' (click)="toggleEditMode1()"></i>
  


</div>
</div>
</div>
</div>